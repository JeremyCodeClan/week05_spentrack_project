{% extends 'base.html' %}

{% block content %}
    <h2><b>Available balance:</b> £ {{ 1000 - total }}</h2>
    <h3><b>Transactions total:</b> £ {{ total }}</h3>
    {% if new_cancel != 1 %}
        <a href="/jeremy_e51/new"><button>New</button></a>
    {% endif %}
    {% block transaction_new %}
    {% endblock %}
    {% for transaction in transactions %}
        <div>
            <hr>
                <div>
                    <span>{{ transaction.date }}</span>
                    /
                    <span>£ {{ transaction.amount }}</span>
                </div>
                <div>
                    <a href="/jeremy_e51/{{ transaction.id }}">
                    <span>{{ transaction.name }}</span>
                    /
                    <span>{{ transaction.description }}</span>
                    </a>
                </div>
                <div>
                    {% if transaction.merchant != None %}
                        <span>
                            {{ transaction.merchant.name }}
                        </span>                    
                    {% else %}
                        <span>
                            None
                        </span>
                    {% endif %}
                    /
                    {% if transaction.tag != None %}
                        <span>
                            {{ transaction.tag.name }}
                        </span>    
                    {% else %}
                        <span>
                            None
                        </span>
                    {% endif %}
                    {% if transaction.merchant == None or transaction.tag == None %}
                        <a href="/jeremy_e51/{{ transaction.id }}/edit"><button>Edit</button></a>    
                    {% endif %}
                </div>
            <hr>
        </div>
    {% endfor %}
{% endblock  %}